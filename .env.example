# Mealie MCP Server Environment Variables

# ============================================================================
# Mealie API Configuration (REQUIRED)
# ============================================================================
# Base URL for the Mealie API (include /api suffix)
MEALIE_URL=http://mealie:9000/api

# Mealie API bearer token
# Generate in Mealie: User Profile → Manage API Tokens → Generate
MEALIE_TOKEN=your-mealie-api-token-here

# ============================================================================
# MCP Transport Configuration
# ============================================================================
# Options: stdio (Claude Desktop), sse (legacy), streamable-http (Claude Mobile)
MCP_TRANSPORT=stdio

# Server binding (for sse or streamable-http transports)
MCP_HOST=0.0.0.0
MCP_PORT=8080

# Legacy SSE authentication (deprecated, use OAuth for new deployments):
# MCP_AUTH_TOKEN=your-secure-mcp-token-here

# ============================================================================
# OAuth 2.1 Configuration (for streamable-http transport)
# ============================================================================
# Enable/disable OAuth authentication
# Set to false ONLY for local development without OAuth
MCP_REQUIRE_AUTH=true

# OAuth Authorization Server URL (your Hydra public API endpoint)
# Examples:
#   - http://localhost:4444 (local development)
#   - https://auth.your-domain.com (production)
OAUTH_SERVER_URL=http://localhost:4444

# MCP Resource URI - canonical URI of this MCP server
# MUST match the URL clients use to access the server
# Examples:
#   - http://localhost:8080 (local development)
#   - https://mcp.your-domain.com (production)
#   - https://rainworth-server.tail-xxxxx.ts.net (Tailscale)
MCP_RESOURCE_URI=http://localhost:8080

# ============================================================================
# Hydra OAuth Server (if running OAuth services)
# ============================================================================
POSTGRES_USER=hydra
POSTGRES_PASSWORD=change-me-in-production
POSTGRES_DB=hydra
